---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Hero from '../components/Hero.astro';
import ProductCard from '../components/ProductCard.astro';
import ProductModal from '../components/ProductModal.astro';
import Footer from '../components/Footer.astro';
import { getCollection } from 'astro:content';

const products = await getCollection('products');
// Sort or organize products if needed. For now default order.
// products.sort((a, bPrice) => a.data.price - b.data.price);
---

<Layout title="Noor Elixir | Premium Perfume Oils">
    <Header />
    
    <main>
        <Hero />
        
        <section id="collection" class="py-20 bg-primary">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <span class="text-accent text-sm uppercase tracking-[0.3em] block mb-2">Our Collection</span>
                    <h2 class="text-3xl md:text-4xl font-serif text-cream">Exquisite Fragrances</h2>
                    <div class="w-24 h-px bg-accent/50 mx-auto mt-6"></div>
                </div>

                <!-- Product Grid -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    {products.map((product) => (
                        <ProductCard product={product} />
                    ))}
                </div>
            </div>
        </section>

        <!-- About Section (Simple) -->
        <section id="about" class="py-20 bg-secondary relative overflow-hidden">
             <!-- Background Texture -->
             <div class="absolute inset-0 opacity-5 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-accent/20 via-transparent to-transparent"></div>

            <div class="container mx-auto px-6 relative z-10 text-center max-w-3xl">
                <span class="text-accent text-sm uppercase tracking-[0.3em] block mb-4">The Essence</span>
                <h2 class="text-3xl md:text-4xl font-serif text-cream mb-8">Crafted for Excellence</h2>
                <p class="text-muted leading-relaxed text-lg font-light mb-8">
                    Noor Elixir represents the pinnacle of olfactory artistry. Our concentrated perfume oils are sourced from the finest ingredients across the globeâ€”blending the rich heritage of Arabian Ouds with the modern sophistication of European perfumery.
                </p>
                <div class="grid grid-cols-3 gap-8 text-center mt-12 border-t border-white/5 pt-12">
                    <div>
                        <h3 class="text-2xl font-serif text-accent mb-2">100%</h3>
                        <p class="text-xs text-muted uppercase tracking-widest">Alcohol Free</p>
                    </div>
                    <div>
                        <h3 class="text-2xl font-serif text-accent mb-2">Long</h3>
                        <p class="text-xs text-muted uppercase tracking-widest">Lasting</p>
                    </div>
                     <div>
                        <h3 class="text-2xl font-serif text-accent mb-2">Premium</h3>
                        <p class="text-xs text-muted uppercase tracking-widest">Quality</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <ProductModal />
    <Footer />
</Layout>
